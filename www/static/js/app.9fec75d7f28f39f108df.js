webpackJsonp([9],{"4ml/":function(e,n){},"5reh":function(e,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"b",function(){return a}),t.d(n,"c",function(){return r});var o="login",a="logout",r="updateMenu"},"9HpD":function(e,n){},IjVM:function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=t("7+uW"),r=t("NYxO"),u=t("bOdI"),i=t.n(u),c=t("5reh"),s=t("g4PW"),l={baseUrl:t.n(s)()("production","production")?"http://172.19.1.82:8003/":"api/"};a.a.use(r.a);var h=new r.a.Store({state:{user:void 0==localStorage.getItem("user")?null:localStorage.getItem("user"),menuIndex:0,baseUrl:l.baseUrl},mutations:(o={},i()(o,c.a,function(e,n){localStorage.user=n,e.user=n}),i()(o,c.b,function(e){localStorage.removeItem("user"),e.user=null,console.log(e)}),i()(o,c.c,function(e,n){e.menuIndex=n}),o),actions:{}}),d={name:"App",data:function(){return{transition:"slide-left"}},watch:{$route:function(e,n){console.log(e),console.log(n),"homeChild"==e.name?this.$store.commit("updateMenu",0):"toudi"==e.name?this.$store.commit("updateMenu",1):"lanshou"==e.name?this.$store.commit("updateMenu",2):"admin"==e.name&&this.$store.commit("updateMenu",3);var t=this.$router.isBack;console.log(t),this.transition=t?"slide-right":"slide-left",this.$router.isBack=!1}}},p={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:this.transition}},[n("keep-alive",[n("router-view",{staticClass:"view"})],1)],1)],1)},staticRenderFns:[]};var m=t("VU/8")(d,p,!1,function(e){t("9HpD")},null,null).exports,f=t("/ocq"),g={getPosition:function(e,n){navigator.geolocation.getCurrentPosition(e,n,{maximumAge:3e5,timeout:3e5,enableHighAccuracy:!0})},getImage:function(e,n){var t={quality:50,destinationType:Camera.DestinationType.FILE_URI,sourceType:0};navigator.camera.getPicture(e,n,t)},openScan:function(e){var n=this;QRScanner.prepare(function(t,o){console.log(t),t&&("SCAN_CANCELED"===t.name?n.$toast("已取消扫描"):"BACK_CAMERA_UNAVAILABLE"===t.name?n.$toast("后置摄像头不可用,请检查设置!"):"CAMERA_ACCESS_DENIED"===t.name?n.$toast("用户拒绝摄像机访问!"):"CAMERA_ACCESS_DENIED"===t.name?n.$toast("摄像机访问受到限制 (由于家长控制，组织安全配置配置文件或类似原因)!"):"CAMERA_ACCESS_DENIED"===t.name?n.$toast("相机不可用，因为它不存在或无法配置!"):n.$toast("出现错误,原因不详,请检查手机设置!")),o.authorized?(QRScanner.show(),QRScanner.scan(e)):o.denied&&Vue.$dialog.confirm({title:"是否同意",message:"前往设置打开摄像访问权限?"}).then(function(){QRScanner.openSettings()}).catch(function(){})})},closeScan:function(){QRScanner.cancelScan(),QRScanner.hide(),QRScanner.destroy()},openLight:function(){QRScanner.enableLight()},closeLight:function(){QRScanner.disableLight()},openVibrate:function(e){navigator.vibrate(e)}};f.a.prototype.goBack=function(){console.log(document.getElementById("body")),this.isBack=!0,g.closeScan(),window.history.go(-1)},a.a.use(f.a);var b=new f.a({routes:[{path:"/",name:"login",component:function(e){return t.e(3).then(function(){return e(t("2ZEU"))}.bind(null,t)).catch(t.oe)}},{path:"/home",name:"home",redirect:"homeChild",meta:{requireAuth:!0,index:1},component:function(e){return t.e(5).then(function(){return e(t("P1Pu"))}.bind(null,t)).catch(t.oe)},children:[{name:"homeChild",path:"/homeChild",meta:{requireAuth:!0,menuIndex:0},component:function(e){return t.e(0).then(function(){return e(t("i58q"))}.bind(null,t)).catch(t.oe)}},{name:"toudi",path:"/toudi",meta:{requireAuth:!0,menuIndex:1},component:function(e){return t.e(4).then(function(){return e(t("b1YA"))}.bind(null,t)).catch(t.oe)}},{name:"lanshou",path:"/lanshou",meta:{requireAuth:!0,menuIndex:2},component:function(e){return t.e(1).then(function(){return e(t("3yqb"))}.bind(null,t)).catch(t.oe)}},{name:"admin",path:"/admin",meta:{requireAuth:!0,menuIndex:3},component:function(e){return t.e(2).then(function(){return e(t("EHPh"))}.bind(null,t)).catch(t.oe)}}]},{path:"/test5",name:"test5",meta:{requireAuth:!0},component:function(e){return t.e(6).then(function(){return e(t("lTaB"))}.bind(null,t)).catch(t.oe)}},{path:"/scanPage",name:"scanPage",meta:{requireAuth:!0},component:function(e){return t.e(7).then(function(){return e(t("lTbj"))}.bind(null,t)).catch(t.oe)}}]});b.beforeEach(function(e,n,t){console.log(e),e.meta.requireAuth?h.state.user?t():t({path:"/",query:{redirect:e.fullPath}}):t()});var v=b,A=t("Fd2+"),y=(t("4ml/"),t("sVYa"),t("Lw6n")),S=t.n(y),E=(t("IjVM"),t("//Fk")),C=t.n(E),M=t("mtWM"),I=t.n(M);I.a.defaults.baseURL=l.baseUrl,I.a.interceptors.request.use(function(e){return h.state.user&&("get"==e.method?-1==e.url.indexOf("https")&&(e.headers.Authorization=h.state.user.token):e.headers.Authorization=h.state.user.token),e},function(e){return C.a.reject(e)}),I.a.interceptors.response.use(function(e){return e},function(e){if(e.response)switch(console.log(e.response),e.response.status){case 401:h.commit(types.LOGOUT),console.log(v.currentRoute.path),"login"!==v.currentRoute.path&&v.replace({path:"/",query:{redirect:v.currentRoute.path}})}return C.a.reject(e)});var R=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new C.a(function(t,o){I()({method:"get",url:e,params:n}).then(function(e){t(e.data)}).catch(function(e){console.log(e,"异常")})})},$=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new C.a(function(t,o){I()({method:"post",url:e,data:n}).then(function(e){t(e.data)}).catch(function(e){console.log(e,"异常")})})},w={name:"Debounce",abstract:!0,props:{time:{type:Number,default:800},events:{type:String,default:"click"},isDebounce:{type:Boolean,default:!1}},created:function(){this.eventKeys=this.events.split(","),this.originMap={},this.debouncedMap={}},render:function(){var e=this,n=this.$slots.default[0];return this.eventKeys.forEach(function(t){var o,a,r,u,i,c,s=n.data.on[t];s===e.originMap[t]&&e.debouncedMap[t]?n.data.on[t]=e.debouncedMap[t]:s&&(e.originMap[t]=s,e.debouncedMap[t]=(o=s,a=e.time,r=e.isDebounce,u=n,r?function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];i&&clearTimeout(i),i=setTimeout(function(){o.apply(u,n)},a)}:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=(new Date).getTime();r-c<a&&c||(c=r,o.apply(u,n))}),n.data.on[t]=e.debouncedMap[t])}),n}};a.a.component("Debounce",w);new S.a;a.a.use(A.a),a.a.prototype.$get=R,a.a.prototype.$post=$,a.a.prototype.plugins=g,a.a.config.productionTip=!1,a.a.use(r.a),document.addEventListener("deviceready",function(){new a.a({el:"#app",router:v,store:h,components:{App:m},template:"<App/>"})},!1)}},["NHnr"]);
//# sourceMappingURL=app.9fec75d7f28f39f108df.js.map